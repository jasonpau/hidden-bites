<!DOCTYPE html>
<html>
<head>
    <title>Simple Map</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="test.js"></script>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
        /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
        #map {
            height: 100%;
            width: 100%;
        }
        /* Optional: Makes the sample page fill the window. */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="map"></div>
<script>
    var static_data = {
        "total": 8228,
        "businesses": [
            {
                "rating": 4,
                "price": "$",
                "phone": "+14152520800",
                "id": "four-barrel-coffee-san-francisco",
                "is_closed": false,
                "categories": [
                    {
                        "alias": "coffee",
                        "title": "Coffee & Tea"
                    }
                ],
                "review_count": 1738,
                "name": "Four Barrel Coffee",
                "url": "https://www.yelp.com/biz/four-barrel-coffee-san-francisco",
                "coordinates": {
                    "latitude": 37.7670169511878,
                    "longitude": -122.42184275
                },
                "image_url": "http://s3-media2.fl.yelpcdn.com/bphoto/MmgtASP3l_t4tPCL1iAsCg/o.jpg",
                "location": {
                    "city": "San Francisco",
                    "country": "US",
                    "address2": "",
                    "address3": "",
                    "state": "CA",
                    "address1": "375 Valencia St",
                    "zip_code": "94103"
                },
                "distance": 1604.23,
                "transactions": ["pickup", "delivery"]
            },
            {
                "rating": 4,
                "price": "$",
                "phone": "+14152520800",
                "id": "four-barrel-coffee-san-francisco",
                "is_closed": false,
                "categories": [
                    {
                        "alias": "coffee",
                        "title": "Coffee & Tea"
                    }
                ],
                "review_count": 1738,
                "name": "Painted Ladies",
                "url": "https://www.yelp.com/biz/four-barrel-coffee-san-francisco",
                "coordinates": {
                    "latitude": 37.7762593,
                    "longitude": -122.432758
                },
                "image_url": "http://s3-media2.fl.yelpcdn.com/bphoto/MmgtASP3l_t4tPCL1iAsCg/o.jpg",
                "location": {
                    "city": "San Francisco",
                    "country": "US",
                    "address2": "",
                    "address3": "",
                    "state": "CA",
                    "address1": "375 Valencia St",
                    "zip_code": "94103"
                },
                "distance": 1604.23,
                "transactions": ["pickup", "delivery"]
            }
            // ...
        ],
        "region": {
            "center": {
                "latitude": 37.767413217936834,
                "longitude": -122.42820739746094
            }
        }
    };
    $(document).ready(function(){

    });

    var map;


    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: new google.maps.LatLng(static_data.region.center.latitude,static_data.region.center.longitude),
            zoom: 15,
            mapTypeId: 'roadmap'
        });
        for(var i = 0; i < static_data.businesses.length; i++){
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(static_data.businesses[i].coordinates.latitude,static_data.businesses[i].coordinates.longitude),
                map:map,
                label: ""+(i+1)
            });
        }
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAqq4jH5c4jX1asTtuCjYye7CrPotGihto&callback=initMap"
        async defer></script>
</body>
</html>